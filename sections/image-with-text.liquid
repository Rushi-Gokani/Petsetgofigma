{% unless section.blocks == empty %}
  {% liquid
    if section.settings.layout == 'image_first'
      assign image_order = -1
    else
      assign image_order = 1
    endif
  %}

  {% render '_responsive-property', property: '--image-order', value: -1, md_value: image_order %}

  <div class="{% if section.settings.custom_color_scheme %}color-{{ section.settings.color_scheme }} bg-bg-500{% endif %}">
    <div
      class="content-wrapper m-auto flex flex-col items-center md:grid md:grid-cols-2 xl:gap-20 2xl:gap-28 max-md:gap-7"
      style="padding-top: {{ section.settings.padding_top }}px; padding-bottom: {{ section.settings.padding_bottom }}px"
    >
      <div
        class="flex flex-col items-start gap-5 md:gap-7 md:py-12 {% if section.settings.layout == 'image_first' %}md:ps-12{% else %}md:pe-12{% endif %} md:self-center"
      >
        {% assign alt_text = '' %}
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'heading' %}
              {% assign alt_text = block.settings.heading %}
              <h2 class="heading text-3xl text-text-500 md:text-4xl">
                {{ block.settings.heading }}
              </h2>
            {% when 'text' %}
              <div class="[&>p+p]:mt-5">
                {{ block.settings.text }}
              </div>
            {% when 'button' %}
              {%- if block.settings.button_label != blank -%}
                <a
                  {% render '_link-attributes', link: block.settings.button_link %}
                  class="button button--filled-primary"
                >
                  {{ block.settings.button_label }}
                  <span class="button__icon ms-2">
                    {% render 'icon-circled-arrow-right-top' %}
                  </span>
                </a>
              {%- endif -%}
          {% endcase %}
        {% endfor %}
      </div>
      <div class="relative order-[--image-order] overflow-hidden rounded-md">
        {% if section.settings.image %}
          {%- assign alt = section.settings.image.alt | default: alt_text -%}
          {% render 'image',
            img_class: 'w-full object-cover md:h-full',
            src: section.settings.image,
            width: '100%',
            height: '100%',
            alt: alt
          %}
        {% else %}
          {{ 'image' | placeholder_svg_tag: 'w-full object-cover md:h-full bg-secondary-400 min-h-[300px]' }}
        {% endif %}
      </div>
    </div>
  </div>
{% endunless %}
{% schema %}
{
  "name": "t:sections.image-with-text.name",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.image-with-text.settings.image.label"
    },
    {
      "type": "select",
      "id": "layout",
      "options": [
        {
          "value": "image_first",
          "label": "t:sections.image-with-text.settings.layout.options__1.label"
        },
        {
          "value": "text_first",
          "label": "t:sections.image-with-text.settings.layout.options__2.label"
        }
      ],
      "default": "image_first",
      "label": "t:sections.image-with-text.settings.layout.label",
      "info": "t:sections.image-with-text.settings.layout.info"
    },
    {
      "type": "header",
      "content": "t:sections.all.colors.header"
    },
    {
      "type": "checkbox",
      "id": "custom_color_scheme",
      "default": false,
      "label": "t:sections.all.custom_color_scheme.label",
      "info": "t:sections.all.custom_color_scheme.info"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "t:sections.image-with-text.blocks.heading.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Image with text",
          "label": "t:sections.image-with-text.blocks.heading.settings.heading.label"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.image-with-text.blocks.text.name",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>",
          "label": "t:sections.image-with-text.blocks.text.settings.text.label"
        }
      ]
    },
    {
      "type": "button",
      "name": "t:sections.image-with-text.blocks.button.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "button_label",
          "default": "Button label",
          "label": "t:sections.image-with-text.blocks.button.settings.button_label.label",
          "info": "t:sections.image-with-text.blocks.button.settings.button_label.info"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.image-with-text.blocks.button.settings.button_link.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.image-with-text.presets.name",
      "blocks": [
        {
          "type": "heading",
          "settings": {
            "heading": "Our Mission"
          }
        },
        {
          "type": "text",
          "settings": {
            "text": "<p>Our Mission is to introduce a superior shopping experience combining technology with expert designer assistance. Get a wardrobe that is 100% you and with your lifestyle and preferences.</p><p>This Design is your personal designer, letting you discover and define your own style. We are here to help you, save time and your day!</p>"
          }
        },
        {
          "type": "button",
          "settings": {
            "button_label": "Explore more"
          }
        }
      ]
    }
  ]
}
{% endschema %}
