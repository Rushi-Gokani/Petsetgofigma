{%- form 'contact', id: 'ContactForm' -%}
  {%- if form.posted_successfully? -%}
    <h2 class="mb-3" tabindex="-1" autofocus>
      <span class="mb-1 inline-block text-green-700">
        {% render 'icon-tick' %}
      </span>
      {{ 'templates.contact.form.post_success' | t }}
    </h2>
  {%- endif -%}

  <div class="mb-3 flex flex-col">
    <label for="ContactForm-name" class="sr-only tracking-widest">
      {{ 'templates.contact.form.full_name' | t }}
    </label>
    <input
      type="text"
      name="contact[name]"
      id="ContactForm-name"
      placeholder="{{ 'templates.contact.form.full_name' | t }}"
      class="input__field input__field--outline h-auto bg-bg-500 px-5 py-2.5"
      value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
      autocomplete="name"
    >
  </div>

  <div class="mb-3 flex flex-col">
    <label for="ContactForm-email" class="sr-only tracking-widest">
      {{ 'templates.contact.form.email' | t }}
      <span aria-hidden="true">*</span>
    </label>
    <input
      type="email"
      name="contact[email]"
      id="ContactForm-email"
      placeholder="{{ 'templates.contact.form.email' | t }}"
      class="input__field input__field--outline h-auto bg-bg-500 px-5 py-2.5 {% if form.errors contains 'email' %}border-error{% else %}border-text-50{% endif %}"
      value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
      autocomplete="email"
      spellcheck="false"
      autocapitalize="off"
      aria-required="true"
      {% if form.errors contains 'email' %}
        aria-invalid="true"
        aria-describedby="ContactForm-email-error"
      {% endif %}
    >
    {%- if form.errors contains 'email' -%}
      <span class="text-error" id="ContactForm-email-error">
        <span class="sr-only">{{ 'accessibility.error' | t }}</span>
        {{- form.errors.translated_fields.email | capitalize }}
        {{ form.errors.messages.email -}}
      </span>
    {%- endif -%}
  </div>

  <div class="mb-3 flex flex-col">
    <label for="ContactForm-phone" class="sr-only tracking-widest">
      {{ 'templates.contact.form.phone' | t }}
    </label>
    <input
      type="tel"
      pattern="[0-9\-]*"
      name="contact[{{ 'templates.contact.form.phone' | t }}]"
      id="ContactForm-phone"
      placeholder="{{ 'templates.contact.form.phone' | t }}"
      class="input__field input__field--outline h-auto bg-bg-500 px-5 py-2.5"
      value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
      autocomplete="tel"
    >
  </div>

  <div class="flex flex-col">
    <label for="ContactForm-body" class="sr-only tracking-widest">
      {{- 'templates.contact.form.comment' | t -}}
    </label>
    <textarea
      rows="4"
      id="ContactForm-body"
      class="input__field input__field--outline min-h-28 bg-bg-500 px-5 py-2.5"
      name="contact[{{ 'templates.contact.form.comment' | t }}]"
      placeholder="{{ 'templates.contact.form.comment' | t }}"
    >
          {{- form.body -}}
        </textarea>
  </div>

  <button type="submit" class="button button--filled-primary mt-7 w-full py-4">
    {{ 'templates.contact.form.send' | t }}
  </button>
{%- endform -%}
