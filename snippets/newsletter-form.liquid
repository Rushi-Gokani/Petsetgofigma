{% form 'customer', class: 'flex flex-col gap-3 items-stretch md:gap-4' %}
  <input type="hidden" name="contact[tags]" value="newsletter">
  <div>
    <label for="{{ section.id }}_input" class="sr-only tracking-widest">{{ 'customer.email_address' | t }}</label>
    <input
      autocomplete="email"
      autocorrect="off"
      autocapitalize="off"
      id="{{ section.id }}_input"
      type="email"
      name="contact[email]"
      class="input__field input__field--outline bg-bg-500 md:px-5 md:py-4 {% if form.errors %}border-error{% endif %}"
      placeholder="{{ 'customer.email_address' | t }}"
      aria-required="true"
      required
      {% if form.errors %}
        autofocus
        aria-invalid="true"
        aria-describedby="error_{{ section.id }}"
      {% elsif form.posted_successfully? %}
        aria-describedby="success_{{ section.id }}"
      {% endif %}
    >
    {%- if form.errors -%}
      <span class="text-error" id="success_{{ section.id }}">
        {%- render 'icon-error' -%}
        {{- form.errors.translated_fields.email | capitalize }}
        {{ form.errors.messages.email -}}
      </span>
    {%- endif -%}
  </div>

  <button type="submit" class="button button--filled-primary w-full">
    {{ 'general.newsletter.button_label' | t }}
  </button>
  {%- if form.posted_successfully? -%}
    <span
      class="newsletter-form__message newsletter-form__message--success form__message"
      id="success_{{ section.id }}"
      tabindex="-1"
      autofocus
    >
      {% render 'icon-success', class: 'inline' -%}
      {{- 'general.newsletter.success' | t }}
    </span>
  {%- endif -%}

  <div class="mt-3 text-sm ">
    {{ 'shopify.online_store.spam_detection.disclaimer_html' | t }}
  </div>
{% endform %}
